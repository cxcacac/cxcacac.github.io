I"´À<h1 id="åˆ·é¢˜è®°å½•-0520">åˆ·é¢˜è®°å½•-0520</h1>

<h3 id="é“¾è¡¨é¢˜kä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨"><strong>é“¾è¡¨é¢˜ï¼š<a href="https://leetcode-cn.com/problems/reverse-nodes-in-k-group/">Kä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨</a></strong></h3>

<p><strong>æ€è·¯1ï¼š</strong>é€šè¿‡å¿«æ…¢æŒ‡é’ˆçš„æ€è·¯ï¼Œå°†é“¾è¡¨ç”¨$start$å’Œ$end$æŒ‡é’ˆæˆªå‡ºæ¥ä¸€æ®µï¼Œå°†è¿™ä¸€æ®µè¿›è¡Œ$reverseList()$ï¼Œä¸ºäº†ä¿æŒä½ç½®ä¸å˜æ€§ï¼Œéœ€è¦è®°ä½è¦åè½¬é“¾è¡¨çš„å‰ä¸€ä¸ªå…ƒç´ çš„ä½ç½®$pre$å’Œåä¸€ä¸ªå…ƒç´ çš„ä½ç½®$next$ï¼Œç¿»è½¬å®Œæˆåæ›´æ–°æŒ‡é’ˆ$start,end,pre,next$ï¼Œè€Œä¸”è¿™å››ä¸ªèŠ‚ç‚¹å¯¹åº”çš„ä½ç½®æ˜¯æœ‰å…³ç³»çš„ã€‚</p>

<p>ä»£ç ï¼š</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">def</span> <span class="nf">reverseKGroup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">:</span> <span class="n">ListNode</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ListNode</span><span class="p">:</span>
        <span class="n">dummy</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">dummy</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">head</span>
        <span class="c1"># åˆ›é€ ä¸¤ä¸ªæŒ‡é’ˆï¼ŒåŒæ—¶æŒ‡å‘dummyçš„ä½ç½®ï¼Œpreè¡¨ç¤ºé“¾è¡¨å‰é¢çš„å…ƒç´ ä½ç½®ï¼Œendæ˜¯ç”¨æ¥æŒ‡å‘ç¿»è½¬é“¾è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚
</span>        <span class="n">pre</span> <span class="o">=</span> <span class="n">dummy</span>
        <span class="n">end</span> <span class="o">=</span> <span class="n">dummy</span>
        <span class="k">while</span> <span class="n">end</span><span class="p">.</span><span class="nb">next</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">end</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="n">end</span> <span class="o">=</span> <span class="n">end</span><span class="p">.</span><span class="nb">next</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">break</span>
            <span class="k">if</span> <span class="n">end</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">pre</span><span class="p">.</span><span class="nb">next</span> 
            <span class="n">Next</span> <span class="o">=</span> <span class="n">end</span><span class="p">.</span><span class="nb">next</span> 
            <span class="n">end</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="c1"># åè½¬é“¾è¡¨åè¿›å…¥ä¸‹ä¸€æ®µï¼Œæ­¤æ—¶startçš„ä½ç½®å·²ç»å˜åˆ°æœ€åä¸€ä½äº†ï¼Œé¦–å…ˆå°†start.nextçš„ä½ç½®å’ŒNextè¿ä¸Šã€‚
</span>            <span class="n">pre</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">reverse</span><span class="p">(</span><span class="n">start</span><span class="p">)</span>
            <span class="n">start</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">Next</span>
            <span class="n">pre</span> <span class="o">=</span> <span class="n">start</span>
            <span class="n">end</span> <span class="o">=</span> <span class="n">pre</span>
        <span class="k">return</span> <span class="n">dummy</span><span class="p">.</span><span class="nb">next</span>

    <span class="k">def</span> <span class="nf">reverse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">):</span>
        <span class="n">pre</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">curr</span> <span class="o">=</span> <span class="n">head</span>
        <span class="k">while</span> <span class="n">curr</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">Next</span> <span class="o">=</span> <span class="n">curr</span><span class="p">.</span><span class="nb">next</span> 
            <span class="n">curr</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">pre</span>
            <span class="n">pre</span> <span class="o">=</span> <span class="n">curr</span>
            <span class="n">curr</span> <span class="o">=</span> <span class="n">Next</span> 
            <span class="c1"># é“¾è¡¨ä¹‹é—´çš„èµ‹å€¼ä¼šæŠŠnextæŒ‡å‘ä¿ç•™å—ï¼Ÿ
</span>        <span class="k">return</span> <span class="n">pre</span>
</code></pre></div></div>

<p>æ³¨ï¼šèµ‹å€¼æ“ä½œ$l_1=l_2$ï¼Œç†è§£æˆ$l_1$æŒ‡é’ˆæŒ‡å‘$l2$ã€‚</p>

<p>åè½¬å•å‘é“¾è¡¨ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="nc">Node</span> <span class="nf">reverseList</span><span class="o">(</span><span class="nc">Node</span> <span class="n">head</span><span class="o">){</span>
    <span class="c1">// éœ€è¦ä¸¤ä¸ªæŒ‡é’ˆ</span>
    <span class="c1">// preæŒ‡å‘å·²åè½¬é“¾è¡¨çš„å¤´èŠ‚ç‚¹</span>
    <span class="c1">// nextæŒ‡å‘æœªåè½¬é“¾è¡¨çš„å¤´èŠ‚ç‚¹</span>
    <span class="nc">Node</span> <span class="n">pre</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
    <span class="nc">Node</span> <span class="n">next</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
    <span class="k">while</span> <span class="o">(</span><span class="n">head</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// ä¿å­˜å½“å‰å¤´èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚</span>
        <span class="n">next</span> <span class="o">=</span> <span class="n">head</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
		<span class="c1">// å°†å½“å‰å¤´èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘æœ€å…ˆå‰çš„èŠ‚ç‚¹preï¼Œå®ç°åè½¬ã€‚</span>
        <span class="n">head</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="n">pre</span><span class="o">;</span>
        <span class="c1">// æ›´æ–°åè½¬é“¾è¡¨ä¹‹åï¼Œä¹Ÿè¦æ›´æ–°preçš„æŒ‡å‘åˆ°å·²åè½¬é“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚</span>
        <span class="n">pre</span> <span class="o">=</span> <span class="n">head</span><span class="o">;</span>
		<span class="c1">// headç»§ç»­æŒ‡å‘æœªåè½¬é“¾è¡¨çš„å¤´èŠ‚ç‚¹è¿›è¡Œä¸‹ä¸€æ¬¡å¾ªç¯ï¼Œç›´åˆ°head==nullï¼Œåè½¬å®Œæˆã€‚</span>
        <span class="n">head</span> <span class="o">=</span> <span class="n">next</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">pre</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<p>ç¤ºæ„å›¾ï¼š</p>

<p>æ³¨ï¼šå›¾æ¥è‡ªåšä¸»<a href="https://blog.csdn.net/xyh269">yinhuanxu</a>ï¼Œ<a href="https://blog.csdn.net/xyh269/article/details/70238501">å‚è€ƒé“¾æ¥1</a>ã€‚</p>

<ul>
  <li>ç¬¬ä¸€å±‚å¾ªç¯</li>
</ul>

<p><img src="\image\image-20200516161644040.png" alt="image-20200516161644040" /></p>

<ul>
  <li>ç¬¬äºŒå±‚å¾ªç¯</li>
</ul>

<p><img src="\image\image-20200516161904990.png" alt="image-20200516161904990" /></p>

<p><strong>æ€è·¯2ï¼š</strong>ä½¿ç”¨æ ˆï¼Œå°†ä¸€å®šé•¿åº¦çš„é“¾è¡¨å­˜å…¥æ ˆä¸­ï¼Œä¹‹åä»æ ˆé¡¶å¼¹å‡ºå³å¯ã€‚ä»è¿™é‡Œä¹Ÿå¯ä»¥çœ‹å‡ºæ ˆå’Œæ•°ç»„çš„ç›¸ä¼¼æ€§ï¼Œåªä¸è¿‡ä½œä¸ºå­˜å‚¨çš„ä¸¤ç§å½¢å¼ï¼Œä¸€ç§æ˜¯$index$è®¿é—®ï¼Œé‡åŒ–å­˜å‚¨ã€‚ä¸€ç§æ˜¯å¤šäº†ä¸€ä¸ª$ListNode.next$å»ºç«‹è”ç³»ï¼Œä¾¿äºè¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œã€‚</p>

<p>ä»£ç ï¼š</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">reverseKGroup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">:</span> <span class="n">ListNode</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ListNode</span><span class="p">:</span>   
	    <span class="n">dummy</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">dummy</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">head</span>

        <span class="n">p</span> <span class="o">=</span> <span class="n">dummy</span>
        <span class="c1"># Next æŒ‡é’ˆæŒ‡å‘æœªç¿»è½¬é“¾è¡¨ç¬¬ä¸€ä¸ªä½ç½®
</span>        <span class="n">Next</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="nb">next</span>
        <span class="k">while</span> <span class="n">Next</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">stack</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">count</span> <span class="o">=</span> <span class="n">k</span>
            <span class="k">while</span> <span class="n">count</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">Next</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">stack</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">Next</span><span class="p">)</span>
                <span class="n">count</span> <span class="o">-=</span> <span class="mi">1</span>
                <span class="n">Next</span> <span class="o">=</span> <span class="n">Next</span><span class="p">.</span><span class="nb">next</span>
            <span class="c1"># è¿™ä¸ªåœ°æ–¹ä¸èƒ½ç›´æ¥è¾“å‡ºï¼Œå› ä¸ºk=1çš„æƒ…å†µï¼Œä¼šå¯¼è‡´æ²¡æœ‰è¾“å‡ºã€‚
</span>            <span class="k">if</span> <span class="n">count</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="c1"># å°†æ ˆå†…çš„å…ƒç´ ç»„æˆé“¾è¡¨,pé€æ­¥æŒ‡åˆ°åˆ°é“¾è¡¨æœ€åçš„ä¸€ä¸ªå…ƒç´ ã€‚
</span>            <span class="k">while</span> <span class="n">stack</span><span class="p">:</span>
                <span class="n">p</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">stack</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
                <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="nb">next</span> 
            <span class="n">p</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">Next</span> 
        <span class="k">return</span> <span class="n">dummy</span><span class="p">.</span><span class="nb">next</span> 
</code></pre></div></div>

<p><strong>æ€è·¯3ï¼š</strong>é€’å½’ï¼Œå°†é“¾è¡¨åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œæ‰‹åŠ¨ç¿»è½¬+é€’å½’ç¿»è½¬çš„ä¸¤ä¸ªéƒ¨åˆ†ï¼Œå¦‚æœæœ€åæ²¡å‡‘å¤Ÿkä¸ªæ•´æ•°ï¼Œé‚£ä¹ˆå°±ä¸è°ƒç”¨ç¿»è½¬äº†ï¼Œè¿™ä¸ªé€’å½’åº”è¯¥æ˜¯æ‰¿æ¥äº†ç¿»è½¬é“¾è¡¨çš„ä¸€éƒ¨åˆ†ï¼Œå³æŠŠ$pre=cur$.</p>

<p>ä»£ç å‚è€ƒ<a href="https://leetcode-cn.com/problems/reverse-nodes-in-k-group/">powcai</a>ï¼š</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">reverseKGroup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">:</span> <span class="n">ListNode</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ListNode</span><span class="p">:</span> 
    	<span class="c1"># å¼•å…¥curræŒ‡é’ˆ
</span>        <span class="n">cur</span> <span class="o">=</span> <span class="n">head</span>
        <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">cur</span> <span class="ow">and</span> <span class="n">count</span><span class="o">!=</span> <span class="n">k</span><span class="p">:</span>
            <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="p">.</span><span class="nb">next</span>
            <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">count</span> <span class="o">==</span> <span class="n">k</span><span class="p">:</span>
            <span class="n">cur</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">reverseKGroup</span><span class="p">(</span><span class="n">cur</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
            <span class="k">while</span> <span class="n">count</span><span class="p">:</span>
                <span class="n">tmp</span> <span class="o">=</span> <span class="n">head</span><span class="p">.</span><span class="nb">next</span>
                <span class="n">head</span><span class="p">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">cur</span>
                <span class="n">cur</span> <span class="o">=</span> <span class="n">head</span>
                <span class="n">head</span> <span class="o">=</span> <span class="n">tmp</span>
                <span class="n">count</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="n">head</span> <span class="o">=</span> <span class="n">cur</span>   
        <span class="k">return</span> <span class="n">head</span>
</code></pre></div></div>

<h3 id="è´ªå¿ƒç®—æ³•é¢˜ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºå«æ‰‹ç»­è´¹">è´ªå¿ƒç®—æ³•é¢˜:<a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/">ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºå«æ‰‹ç»­è´¹</a></h3>

<p>æœ‰ç‚¹ç±»ä¼¼äºå¯å‘ç®—æ³•ï¼Œå¼•å…¥æˆæœ¬çš„æ¦‚å¿µå¾ˆæœ‰æ„æ€ï¼Œå¾…è¡¥å……æ•°å­¦è¯æ˜ã€‚</p>

<p>ä»£ç ï¼š</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">maxProfit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prices</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">fee</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>    
    	<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">prices</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="n">profit</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">buy</span> <span class="o">=</span> <span class="n">sold</span> <span class="o">=</span> <span class="n">prices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">price</span> <span class="ow">in</span> <span class="n">prices</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
            <span class="k">if</span> <span class="n">price</span> <span class="o">&gt;=</span> <span class="n">sold</span><span class="p">:</span>
                <span class="n">sold</span> <span class="o">=</span> <span class="n">price</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># è¯„ä¼°
</span>                <span class="n">gain</span> <span class="o">=</span> <span class="n">sold</span> <span class="o">-</span> <span class="n">buy</span> <span class="o">-</span> <span class="n">fee</span>
                <span class="c1"># ç¬¬ä¸€ä¸ªæ¡ä»¶ï¼Œä¿è¯èµšé’±ï¼Œç¬¬äºŒä¸ªæ¡ä»¶ï¼Œç»æµå­¦æ¦‚å¿µï¼Œæœºä¼šæˆæœ¬ï¼Œèµšçš„é’±å¿…é¡»èƒ½å¤Ÿå¼¥è¡¥æœºä¼šæˆæœ¬æ‰æ˜¯èµšçš„ã€‚
</span>                <span class="k">if</span> <span class="n">gain</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">gain</span> <span class="o">&gt;</span> <span class="n">price</span> <span class="o">-</span> <span class="n">buy</span><span class="p">:</span>
                    <span class="n">profit</span> <span class="o">+=</span> <span class="n">gain</span>
                    <span class="n">buy</span> <span class="o">=</span> <span class="n">sold</span> <span class="o">=</span> <span class="n">price</span>
                <span class="c1"># å¦‚æœå‡ºç°æœ€ä½ä»·ï¼Œåˆ™å°½é‡æŠ›å”®ç°åœ¨çš„è‚¡ç¥¨ï¼Œç»™æœªæ¥æ›´å¤šæœºä¼šã€‚
</span>                <span class="k">elif</span> <span class="n">price</span> <span class="o">&lt;</span> <span class="n">buy</span><span class="p">:</span>
                    <span class="n">buy</span> <span class="o">=</span> <span class="n">sold</span> <span class="o">=</span> <span class="n">price</span>
        <span class="c1"># æ—¶é—´åˆ°äº†ï¼Œå–äº†èµšä¸èµšé’±ã€‚
</span>        <span class="k">if</span> <span class="n">sold</span> <span class="o">-</span> <span class="n">buy</span> <span class="o">&gt;</span> <span class="n">fee</span><span class="p">:</span>
            <span class="n">profit</span> <span class="o">+=</span> <span class="n">sold</span> <span class="o">-</span> <span class="n">buy</span> <span class="o">-</span> <span class="n">fee</span>
        <span class="k">return</span> <span class="n">profit</span>
</code></pre></div></div>

<p><strong>æ€è·¯2</strong>ï¼šåŠ¨æ€è§„åˆ’</p>

<p>ä»£ç ï¼š</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">maxProfit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prices</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">fee</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>    
	    <span class="n">cash</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">hold</span> <span class="o">=</span> <span class="o">-</span><span class="n">prices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="c1"># å¯ä»¥çœ‹åšæŒæœ‰è‚¡ç¥¨æ˜¯äºæŸçš„çŠ¶æ€ï¼Œå¦‚ä½•è®©äºæŸæœ€å°åŒ–ï¼Œå°±æ˜¯ä¹°ã€‚
</span>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">prices</span><span class="p">)):</span>
            <span class="n">cash</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">cash</span><span class="p">,</span><span class="n">hold</span><span class="o">+</span><span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="n">fee</span><span class="p">)</span>
            <span class="n">hold</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">hold</span><span class="p">,</span><span class="n">cash</span><span class="o">-</span><span class="n">prices</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">cash</span>
</code></pre></div></div>

<h3 id="é€’å½’æ ‘å¹³è¡¡äºŒå‰æ ‘">é€’å½’+æ ‘ï¼š<a href="https://leetcode-cn.com/problems/balanced-binary-tree/">å¹³è¡¡äºŒå‰æ ‘</a></h3>

<p><strong>æ€è·¯1ï¼š</strong>æ™®é€šé€’å½’ï¼Œè‡ªé¡¶å‘ä¸‹</p>

<p>ä»£ç æ¯”è¾ƒç®€å•ã€‚</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
	<span class="k">def</span> <span class="nf">isBalanced</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">TreeNode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">root</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">height</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">left</span><span class="p">)</span><span class="o">-</span><span class="bp">self</span><span class="p">.</span><span class="n">height</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">right</span><span class="p">))</span><span class="o">&lt;=</span><span class="mi">1</span> <span class="ow">and</span> <span class="bp">self</span><span class="p">.</span><span class="n">isBalanced</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">left</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="p">.</span><span class="n">isBalanced</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">right</span><span class="p">)</span>

	<span class="k">def</span> <span class="nf">height</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">):</span>
        <span class="c1"># è¯¥å‡½æ•°æ˜¯ä»è¯¥ç‚¹ä¸ºrootèŠ‚ç‚¹çš„æœ€å¤§height
</span>        <span class="k">if</span> <span class="n">root</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">height</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">left</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="bp">self</span><span class="p">.</span><span class="n">height</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">right</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></div>

<p><strong>æ€è·¯2ï¼š</strong>å‰ªæé€’å½’ï¼Œåªè¦æ˜¯ä¸å¹³è¡¡å­æ ‘ï¼Œå°±$False$ã€‚ä»åº•è‡³é¡¶è¿”å›å­æ ‘æœ€å¤§é«˜åº¦ï¼Œè‹¥åˆ¤å®šæŸå­æ ‘ä¸æ˜¯å¹³è¡¡æ ‘åˆ™ â€œå‰ªæâ€ ï¼Œç›´æ¥è¿”å›ã€‚</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">isBalanced</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">TreeNode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">recur</span><span class="p">(</span><span class="n">root</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span>

    <span class="k">def</span> <span class="nf">recur</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">root</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span> <span class="k">return</span> <span class="mi">0</span>
        <span class="n">left</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">recur</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">left</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">left</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
        <span class="n">right</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">recur</span><span class="p">(</span><span class="n">root</span><span class="p">.</span><span class="n">right</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">right</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">left</span> <span class="o">-</span> <span class="n">right</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span>
</code></pre></div></div>

<h3 id="é€’å½’æ ‘å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘">é€’å½’+æ ‘ï¼š<a href="https://leetcode-cn.com/problems/convert-sorted-array-to-binary-search-tree/">å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘</a></h3>

<p><strong>æ€è·¯1ï¼š</strong>æ ‘æ˜¯è‡ªä¸Šè€Œä¸‹å»ºç«‹çš„ï¼Œå¯¹å¹³è¡¡æœç´¢äºŒå‰æ ‘è€Œè¨€ï¼Œåšä¸­åºéå†å³å¯å¾—åˆ°å‡åºæ•°ç»„ï¼Œæ ¹èŠ‚ç‚¹ä¸ºæ•°ç»„ä¸­ç‚¹ï¼Œå³$mid = (right+left)//2, root = TreeNode(nums[mid])$ã€‚ç”±äºäºŒå‰æœç´¢æ ‘çš„å·¦å³å­æ ‘ä¹Ÿä¸ºæœç´¢æ ‘ï¼Œåˆ†æ²»é€’å½’å³å¯ã€‚</p>

<p>tips:</p>

<p>å¯¹é€’å½’å‡½æ•°è€Œè¨€ï¼Œæœ€é‡è¦çš„å°±æ˜¯æ˜ç™½å½“å‰å‡½æ•°åº”ç”¨äºç›®æ ‡å¯¹è±¡çš„ç›®çš„æ˜¯ä¸ºäº†æ±‚ä»€ä¹ˆï¼Œä¹‹åæ˜¯å¦èƒ½å¤Ÿåº”ç”¨åˆ°ä¸è¯¥ç›®æ ‡å¯¹è±¡æœ‰å…³ç³»çš„ï¼Œæ›´å°çš„ç›®æ ‡å¯¹è±¡ã€‚</p>

<h3 id="é€’å½’æ ‘äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„">é€’å½’+æ ‘ï¼š<a href="https://leetcode-cn.com/problems/binary-tree-paths/">äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„</a></h3>

<p><strong>æ€è·¯ï¼š</strong>é€’å½’</p>

<p>tipsï¼š</p>

<p>â€‹    ï¼ˆ1ï¼‰è¿™é“é¢˜åæ˜ ï¼Œéœ€è¦ç…§é¡¾é€’å½’å‡½æ•°çš„è¿”å›å½¢å¼ï¼Œè¿™æ ·ä¹Ÿèƒ½ä½œç”¨äºå‡½æ•°è®¾è®¡æœ¬èº«ã€‚</p>

<p>â€‹    ï¼ˆ2ï¼‰å…¶å®é€’å½’å‡½æ•°å°±æ˜¯ä½œç”¨äºä¸»ç»“æ„-&gt;å­ç»“æ„-&gt;ç»ˆæ­¢æ¡ä»¶ï¼Œè¿”å›å€¼ä»ç»ˆæ­¢æ¡ä»¶-&gt;å­ç»“æ„-&gt;ä¸»ç»“æ„ã€‚</p>

<h3 id="è¿­ä»£æ ‘äºŒå‰æ ‘çš„ä¸­åºéå†"><strong>è¿­ä»£+æ ‘ï¼š</strong><a href="https://leetcode-cn.com/problems/binary-tree-inorder-traversal/">äºŒå‰æ ‘çš„ä¸­åºéå†</a></h3>

<p><strong>æ€è·¯1ï¼š</strong>é€’å½’ï¼Œæ¯”è¾ƒå¸¸è§„å’Œç®€å•ã€‚</p>

<p><strong>æ€è·¯2ï¼š</strong>æ ˆ+è¿­ä»£ã€‚</p>

<p>å‰åºéå†è¿­ä»£ç®—æ³•çš„ä¼ªä»£ç ï¼šæ ¹-&gt;å·¦-&gt;å³</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">stack</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">root</span>
<span class="k">while</span> <span class="n">p</span><span class="o">!=</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">stack</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
    <span class="k">while</span> <span class="n">p</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">p</span><span class="p">.</span><span class="n">val</span>
       	<span class="n">p</span><span class="p">.</span><span class="n">right</span> <span class="o">-&gt;</span> <span class="n">stack</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">left</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">stack</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
<span class="k">return</span> <span class="n">result</span> <span class="n">about</span> <span class="n">p</span><span class="p">.</span><span class="n">val</span>
</code></pre></div></div>

<p>ååºéå†è¿­ä»£ç®—æ³•çš„ä¼ªä»£ç ï¼šå’Œä¸Šé¢ç±»åŒï¼Œreverseï¼ˆæ ¹-&gt;å³-&gt;å·¦ï¼‰çš„ç»“æœã€‚</p>

<p>ä¸­åºéå†çš„è¿­ä»£ç®—æ³•ä¼ªä»£ç ï¼š</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">stack</span> 
<span class="n">p</span> <span class="o">=</span> <span class="n">root</span>
<span class="k">while</span> <span class="n">p</span><span class="o">!=</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">stack</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
    <span class="k">while</span> <span class="n">p</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">p</span> <span class="o">-&gt;</span> <span class="n">stack</span> 
        <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">left</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">stack</span><span class="p">.</span><span class="n">pop</span><span class="p">()</span>
    <span class="n">p</span><span class="p">.</span><span class="n">val</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">right</span>
<span class="k">return</span> <span class="n">result</span>
</code></pre></div></div>

<h3 id="æ‹“æ‰‘æ’åºè¯¾ç¨‹è¡¨-ii">æ‹“æ‰‘æ’åºï¼š<a href="https://leetcode-cn.com/problems/course-schedule-ii/">è¯¾ç¨‹è¡¨ II</a></h3>

<p><strong>æ€è·¯1ï¼š</strong>è¯¾ç¨‹çš„å…³ç³»æ˜¯ä¸€ä¸ªæœ‰å‘å›¾ï¼Œç”¨åˆ°å›¾çš„ç®—æ³•æˆ‘è¿˜ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œæ‰€ä»¥è¿™é‡Œåªè¿›è¡Œç®—æ³•çš„è§£é‡Šï¼Œå‚è€ƒ<a href="https://leetcode-cn.com/problems/course-schedule-ii/solution/tuo-bu-pai-xu-shen-du-you-xian-bian-li-python-dai-/">liweiwei</a>ã€‚</p>

<p>é¦–å…ˆæ˜¯å›¾çš„è¡¨ç¤ºï¼Œè¿™é‡Œé‡‡ç”¨é‚»è¿‘èŠ‚ç‚¹è¡¨ç¤ºï¼Œå³ä»¥è¯¥æ ‘ä¸º$ancestor$çš„æ‰€æœ‰$sucessors$æ‰€ç»„æˆçš„é›†åˆã€‚</p>

<p>é™¤äº†é‚»æ¥è¡¨ä¹‹å¤–ï¼Œå½“å‰è¯¾ç¨‹æ˜¯å¦å¯ä¿®ç”±å½“å‰çš„$prerequisite$çš„è¯¾ç¨‹ä¸ªæ•°æ˜¯å¦ä¸º0ï¼Œç”¨ä¸€ä¸ª$in_degree$æ•°ç»„è¡¨ç¤ºï¼Œè¿™é‡Œæˆ‘ä¸€å¼€å§‹æƒ³çš„æ˜¯prequisiteåšä¸€ä¸ªé›†åˆï¼Œå…¶å®ä½œä¸ºæ¡ä»¶åˆ¤æ–­ï¼Œä¸ç”¨æ˜ç¡®$prerequisite$æ˜¯å“ªä¸ªï¼Œåªéœ€è¦çŸ¥é“ä¸ªæ•°å°±å¯ä»¥ï¼Œè¿™å°±æ˜¯ç®€åŒ–ã€‚</p>

<p>pythonä»£ç ï¼š</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">findOrder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">numCourses</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">prerequisites</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
         <span class="c1"># è¯¾ç¨‹çš„é•¿åº¦
</span>        <span class="n">clen</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">prerequisites</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">clen</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># æ²¡æœ‰è¯¾ç¨‹ï¼Œå½“ç„¶å¯ä»¥å®Œæˆè¯¾ç¨‹çš„å­¦ä¹ 
</span>            <span class="k">return</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numCourses</span><span class="p">)]</span>
        <span class="c1"># å…¥åº¦æ•°ç»„ï¼Œä¸€å¼€å§‹å…¨éƒ¨ä¸º 0
</span>
        <span class="n">in_degrees</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numCourses</span><span class="p">)]</span>
        <span class="c1"># é‚»æ¥è¡¨
</span>        <span class="n">adj</span> <span class="o">=</span> <span class="p">[</span><span class="nb">set</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numCourses</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">course</span><span class="p">,</span> <span class="n">pre</span> <span class="ow">in</span> <span class="n">prerequisites</span><span class="p">:</span>
            <span class="n">in_degrees</span><span class="p">[</span><span class="n">course</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">adj</span><span class="p">[</span><span class="n">pre</span><span class="p">].</span><span class="n">add</span><span class="p">(</span><span class="n">course</span><span class="p">)</span>
    
        <span class="c1"># é¦–å…ˆéå†ä¸€éï¼ŒæŠŠæ‰€æœ‰å…¥åº¦ä¸º 0 çš„ç»“ç‚¹åŠ å…¥é˜Ÿåˆ—
</span>        <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">queue</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numCourses</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">in_degrees</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">queue</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>    
        <span class="k">while</span> <span class="n">queue</span><span class="p">:</span>
            <span class="n">top</span> <span class="o">=</span> <span class="n">queue</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="c1"># åªæœ‰æ‰€æœ‰å…ˆä¿®è¯¾ç¨‹éƒ½å·²æ»¡è¶³ï¼Œæ‰ä¼šæŠŠcourseåŠ å…¥åˆ°resä¸­ã€‚
</span>            <span class="n">res</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">top</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">successor</span> <span class="ow">in</span> <span class="n">adj</span><span class="p">[</span><span class="n">top</span><span class="p">]:</span>
                <span class="n">in_degrees</span><span class="p">[</span><span class="n">successor</span><span class="p">]</span> <span class="o">-=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">in_degrees</span><span class="p">[</span><span class="n">successor</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">queue</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">successor</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">res</span><span class="p">)</span> <span class="o">!=</span> <span class="n">numCourses</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">return</span> <span class="n">res</span>
</code></pre></div></div>

<p><strong>æ€è·¯2ï¼š</strong>æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDepth-First-Searchï¼‰ï¼Œé€šè¿‡é€’å½’æ¥åˆ¤æ–­æœ‰å‘å›¾ä¸­æ˜¯å¦æœ‰ç¯ï¼Œå¯¹å½“å‰çš„èŠ‚ç‚¹è®¾ç½®çŠ¶æ€å˜é‡ï¼Œå¦‚æœåœ¨éå†çš„è¿‡ç¨‹ä¸­å‘ç°è¯¥çŠ¶æ€å˜é‡ç›¸ç­‰ï¼Œå³è¯´æ˜éå†åˆ°äº†åŒä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦åˆ™æ²¡æœ‰éå†åˆ°åŒä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¯¹æ‰€æœ‰èŠ‚ç‚¹éƒ½é‡‡ç”¨è¿™ä¸ªé€’å½’è¿‡ç¨‹ã€‚</p>

<p>æ³¨ï¼šï¼ˆè®¿é—®é™åˆ¶ï¼‰åœ¨ç±»ä¸­ï¼Œå¯¹å±æ€§çš„åç§°å‰åŠ â€œ__â€ï¼Œå¯ä»¥è®©å†…éƒ¨å±æ€§ä¸è¢«å¤–éƒ¨è®¿é—®ï¼Œæˆä¸ºä¸€ä¸ªç§æœ‰å˜é‡æˆ–è€…ç§æœ‰å‡½æ•°ï¼Œæ— æ³•åœ¨å¤–ç•Œç›´æ¥å¯¹ç±»çš„ä¿¡æ¯è¿›è¡Œä¿®æ”¹ï¼Œå¿…é¡»è¦è°ƒç”¨ç±»çš„å†…éƒ¨å‡½æ•°ï¼Œæˆ–è€…å¯ä»¥ç”¨â€_classname__attributenameâ€æ¥ç›´æ¥è®¿é—®ã€‚</p>

<p>python:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">findOrder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">numCourses</span><span class="p">,</span> <span class="n">prerequisites</span><span class="p">):</span>
        <span class="c1"># è¯¾ç¨‹çš„é•¿åº¦
</span>        <span class="n">clen</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">prerequisites</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">clen</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numCourses</span><span class="p">)]</span>
        <span class="c1"># é€†é‚»æ¥è¡¨
</span>        <span class="n">inverse_adj</span> <span class="o">=</span> <span class="p">[</span><span class="nb">set</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numCourses</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">second</span><span class="p">,</span> <span class="n">first</span> <span class="ow">in</span> <span class="n">prerequisites</span><span class="p">:</span>
            <span class="n">inverse_adj</span><span class="p">[</span><span class="n">second</span><span class="p">].</span><span class="n">add</span><span class="p">(</span><span class="n">first</span><span class="p">)</span>

        <span class="n">visited</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numCourses</span><span class="p">)]</span>
        <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numCourses</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="p">.</span><span class="n">__dfs</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">inverse_adj</span><span class="p">,</span> <span class="n">visited</span><span class="p">,</span> <span class="n">res</span><span class="p">):</span>
                <span class="k">return</span> <span class="p">[]</span>
        <span class="k">return</span> <span class="n">res</span>

    <span class="k">def</span> <span class="nf">__dfs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vertex</span><span class="p">,</span> <span class="n">inverse_adj</span><span class="p">,</span> <span class="n">visited</span><span class="p">,</span> <span class="n">res</span><span class="p">):</span>
        <span class="s">"""
        :param visited: è®°å½•äº†ç»“ç‚¹æ˜¯å¦è¢«è®¿é—®è¿‡ï¼Œ2 è¡¨ç¤ºå½“å‰æ­£åœ¨ DFS è¿™ä¸ªç»“ç‚¹
        """</span>
        <span class="c1"># 2 è¡¨ç¤ºè¿™ä¸ªç»“ç‚¹æ­£åœ¨è®¿é—®ï¼Œå¦‚æœçŠ¶æ€å˜é‡ç›¸åŒï¼Œåˆ™è¿”å›æœ‰ç¯ã€‚
</span>        <span class="k">if</span> <span class="n">visited</span><span class="p">[</span><span class="n">vertex</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">if</span> <span class="n">visited</span><span class="p">[</span><span class="n">vertex</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span>
        <span class="c1"># è®¾ç½®çŠ¶æ€å˜é‡
</span>        <span class="n">visited</span><span class="p">[</span><span class="n">vertex</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="c1"># é€’å½’è®¿é—®å‰é©±ç»“ç‚¹
</span>        <span class="k">for</span> <span class="n">precursor</span> <span class="ow">in</span> <span class="n">inverse_adj</span><span class="p">[</span><span class="n">vertex</span><span class="p">]:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="p">.</span><span class="n">__dfs</span><span class="p">(</span><span class="n">precursor</span><span class="p">,</span> <span class="n">inverse_adj</span><span class="p">,</span> <span class="n">visited</span><span class="p">,</span> <span class="n">res</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">True</span>
        <span class="c1"># è¿˜åŸçŠ¶æ€å˜é‡ã€‚
</span>        <span class="n">visited</span><span class="p">[</span><span class="n">vertex</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="c1"># æ·±åº¦ä¼˜å…ˆéå†é€’å½’çš„ç›®çš„ï¼Œå…ˆæŠŠ vertex è¿™ä¸ªç»“ç‚¹çš„æ‰€æœ‰å‰é©±ç»“ç‚¹éƒ½è¾“å‡ºä¹‹åï¼Œå†è¾“å‡ºè‡ªå·±
</span>        <span class="n">res</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">vertex</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">False</span>
</code></pre></div></div>

<h3 id="åŠ¨æ€è§„åˆ’ä¹˜ç§¯æœ€å¤§å­æ•°ç»„">åŠ¨æ€è§„åˆ’ï¼š<a href="https://leetcode-cn.com/problems/maximum-product-subarray/">ä¹˜ç§¯æœ€å¤§å­æ•°ç»„</a></h3>

<p><strong>æ€è·¯ï¼š</strong>ä¸¤ä¸ªè€ƒè™‘ï¼ˆ1ï¼‰å¦‚æœ$nums[i]&lt;0$ï¼Œé‚£ä¹ˆå½“å‰ä½ç½®ä¹˜ç§¯æœ€å¤§å€¼ä¾èµ–äºä¹‹å‰ä½ç½®çš„ä¹˜ç§¯æœ€å°å€¼ï¼Œåä¹‹äº¦ç„¶ã€‚å¦‚æœ$nums[i]&gt;0$é‚£ä¹ˆå½“å‰ä½ç½®ä¹˜ç§¯æœ€å¤§å€¼ä¾èµ–ä¹‹å‰ä½ç½®æœ€å¤§å€¼ï¼Œåä¹‹äº¦ç„¶ã€‚ï¼ˆ2ï¼‰å½“å‰çš„ä¹˜ç§¯æ˜¯è¦å»¶ç»­ä¹‹å‰çš„çŠ¶æ€è¿˜æ˜¯è¦é‡æ–°é€‰å–ã€‚å¯ä»¥å†™å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼ŒåŒæ—¶è®°å½•æœ€å¤§å€¼ã€‚</p>

\[imax = max(imax,imax*nums[i]),imin = min(imin,imin*nums[i])ã€‚\]

<p>pythonï¼š</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">maxProduct</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">imin</span> <span class="o">=</span> <span class="n">imax</span> <span class="o">=</span> <span class="n">res</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="c1"># ä¹‹æ‰€ä»¥èƒ½ä¼˜åŒ–ï¼Œæ˜¯å› ä¸ºåªä¾èµ–å‰é¢çš„å€¼ã€‚
</span>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">:</span>
                <span class="n">imax</span><span class="p">,</span><span class="n">imin</span> <span class="o">=</span> <span class="n">imin</span><span class="p">,</span><span class="n">imax</span>
            <span class="n">imax</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">imax</span><span class="o">*</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">imin</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">imin</span><span class="o">*</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">res</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">imax</span><span class="p">,</span><span class="n">res</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">res</span> 
</code></pre></div></div>

<p>æ³¨ï¼šgithub pagesä¸­æ”¯æŒlatexè¯­æ³•,headerä¸­æ·»åŠ ä¸‹é¢çš„ä»£ç ï¼Œç¼–è¾‘çš„æ—¶å€™è¦å†™æˆlatexè¯­æ³•ã€‚</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- æ•°å­¦å…¬å¼ --&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"</span> <span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/x-mathjax-config"</span><span class="nt">&gt;</span>
  <span class="nx">MathJax</span><span class="p">.</span><span class="nx">Hub</span><span class="p">.</span><span class="nx">Config</span><span class="p">({</span>
    <span class="na">tex2jax</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">skipTags</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">script</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">noscript</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">style</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">textarea</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">pre</span><span class="dl">'</span><span class="p">],</span>
      <span class="na">inlineMath</span><span class="p">:</span> <span class="p">[[</span><span class="dl">'</span><span class="s1">$</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">$</span><span class="dl">'</span><span class="p">]]</span>
    <span class="p">}</span>
  <span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>

</code></pre></div></div>

:ET